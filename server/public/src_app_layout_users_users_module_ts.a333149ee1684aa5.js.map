{"version":3,"file":"src_app_layout_users_users_module_ts.a333149ee1684aa5.js","mappings":"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","sources":["./src/app/layout/users/user-form/user-form.component.ts","./src/app/layout/users/user-list/user-list.component.ts","./src/app/layout/users/users-routing.module.ts","./src/app/layout/users/users.module.ts","./src/app/pipes/truncate.pipe.ts"],"sourcesContent":["import { Location } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { ValidationService } from '../../../core/components';\r\nimport { UserService } from '../../../services/users/user.service';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\n\r\n@Component({\r\n  selector: 'app-user-form',\r\n  templateUrl: './user-form.component.html',\r\n  styleUrls: ['./user-form.component.scss'],\r\n})\r\nexport class UserFormComponent implements OnInit {\r\n  submitted = false;\r\n  userForm = this.formBuilder.group({\r\n    id: new FormControl(''),\r\n    firstName: new FormControl('', [Validators.required]),\r\n    lastName: new FormControl('', [Validators.required]),\r\n    // email: new FormControl('', [\r\n    //   Validators.required,\r\n    //   this.validationService.emailValidator,\r\n    // ]),\r\n    mobileNo: new FormControl('', [Validators.required]),\r\n    password: new FormControl('', [Validators.required]),\r\n    role: new FormControl({ value: 'ADMIN', disabled: true }, [\r\n      Validators.required,\r\n    ]),\r\n  });\r\n\r\n  constructor(\r\n    private spinner: NgxSpinnerService,\r\n    private userService: UserService,\r\n    private router: Router,\r\n    private formBuilder: FormBuilder,\r\n    private location: Location,\r\n    private validationService: ValidationService,\r\n    private actRoutes: ActivatedRoute,\r\n    private toastService: ToastrService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.actRoutes.queryParams.subscribe((params) => {\r\n      if (params.id) {\r\n        this.getById(params.id);\r\n      }\r\n    });\r\n  }\r\n  get form() {\r\n    return this.userForm.controls;\r\n  }\r\n  submit() {\r\n    this.submitted = true;\r\n    this.userForm.controls.role.enable();\r\n    if (this.userForm.invalid) {\r\n      this.toastService.warning('Please fill all required field !');\r\n      return;\r\n    }\r\n    let formData = this.userForm.value;\r\n    if (formData.id) {\r\n      this.update(formData);\r\n    } else {\r\n      delete formData.id;\r\n      this.create(formData);\r\n    }\r\n  }\r\n  create(formData) {\r\n    this.spinner.show();\r\n    this.userService.createUser(formData).subscribe((success) => {\r\n      this.spinner.hide();\r\n      this.toastService.success(success.message);\r\n      this.router.navigate(['users/users']);\r\n    });\r\n  }\r\n\r\n  update(formData) {\r\n    this.spinner.show();\r\n    this.userService.updateUser(formData.id, formData).subscribe((success) => {\r\n      this.submitted = false;\r\n      this.spinner.hide();\r\n      this.toastService.success(success.message);\r\n      this.router.navigate(['users/users']);\r\n    });\r\n  }\r\n\r\n  getById(id) {\r\n    this.userService.profile(id).subscribe((success) => {\r\n      success.confirmPassword = success.password;\r\n      this.userForm.patchValue(success);\r\n      this.userForm.controls.role.disable();\r\n    });\r\n  }\r\n\r\n  goBack() {\r\n    this.location.back();\r\n  }\r\n}\r\n","import { Location } from '@angular/common';\r\nimport { Component, OnInit } from '@angular/core';\r\nimport { Router } from '@angular/router';\r\nimport { ActivatedRoute } from '@angular/router';\r\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\r\nimport { NgxSpinnerService } from 'ngx-spinner';\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { StorageService } from 'src/app/core/services';\r\nimport { UserService } from '../../../services/users/user.service';\r\nimport { IUser } from '@interfaces/index';\r\n@Component({\r\n  selector: 'app-user-list',\r\n  templateUrl: './user-list.component.html',\r\n  styleUrls: ['./user-list.component.scss'],\r\n})\r\nexport class UserListComponent implements OnInit {\r\n  selectedRow: any = {};\r\n  users: any = [];\r\n  search: any = '';\r\n  page = 1;\r\n  pageSize = 10;\r\n  collection: number = 0;\r\n  // pages: number = 1;\r\n  userDetails: any = {};\r\n\r\n  constructor(\r\n    private userService: UserService,\r\n    private router: Router,\r\n    private storageService: StorageService,\r\n    private modalService: NgbModal,\r\n    private toastService: ToastrService,\r\n    private spinner: NgxSpinnerService\r\n  ) {}\r\n\r\n  ngOnInit(): void {\r\n    this.userDetails = this.storageService.get('user');\r\n    this.getAll();\r\n  }\r\n\r\n  getAll() {\r\n    this.spinner.show();\r\n    let params = {\r\n      page: this.page,\r\n      pageSize: this.pageSize,\r\n      search: this.search,\r\n    };\r\n    this.userService.getAllUsers(params).subscribe(\r\n      (success) => {\r\n        this.users = success.data;\r\n        this.collection = success.count;\r\n        this.spinner.hide();\r\n      },\r\n      (error) => {\r\n        this.spinner.hide();\r\n        this.toastService.error('Something Went Wrong!');\r\n      }\r\n    );\r\n  }\r\n\r\n  navigateTo(path, id) {\r\n    if (id) {\r\n      this.router.navigate([path], { queryParams: { id } });\r\n    } else {\r\n      this.router.navigate([path]);\r\n    }\r\n  }\r\n\r\n  refreshList(title) {\r\n    this.search = title == 'clear' ? '' : this.search;\r\n    this.getAll();\r\n  }\r\n\r\n  onChangePage(pageNo) {\r\n    if (pageNo > 0) {\r\n      this.page = pageNo;\r\n    }\r\n    this.getAll();\r\n  }\r\n\r\n  open(u, content) {\r\n    this.selectedRow = u;\r\n    this.modalService.open(content, { centered: true });\r\n  }\r\n\r\n  deleteUser(id) {\r\n    this.userService.deleteUser(id).subscribe(\r\n      (success) => {\r\n        this.getAll();\r\n        this.selectedRow = {};\r\n        this.modalService.dismissAll();\r\n        this.toastService.success(success.message);\r\n      },\r\n      (error) => {\r\n        this.selectedRow = {};\r\n        this.modalService.dismissAll();\r\n      }\r\n    );\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\nimport { UserListComponent } from './user-list/user-list.component';\r\nimport { UserFormComponent } from './user-form/user-form.component'; \r\n\r\nconst userRoutes: Routes = [\r\n  {\r\n    path: '',\r\n    data: {\r\n      title: 'Users',\r\n    },\r\n    children: [\r\n      {\r\n        path: '',\r\n        redirectTo: 'users',\r\n      },\r\n      {\r\n        path: 'users',\r\n        component: UserListComponent,\r\n        data: {\r\n          title: 'Users List',\r\n        },\r\n      },\r\n      {\r\n        path: 'users-form',\r\n        component: UserFormComponent,\r\n        data: {\r\n          title: 'Users Form',\r\n        },\r\n      },\r\n      \r\n    ],\r\n  },\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(userRoutes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class UsersRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { UserListComponent } from './user-list/user-list.component';\r\nimport { UserFormComponent } from './user-form/user-form.component';\r\nimport { UsersRoutingModule } from './users-routing.module';\r\nimport { CoreModule } from '../../core/core.module';\r\nimport { TruncatePipe } from '../../pipes/truncate.pipe';\r\n\r\n\r\n@NgModule({\r\n  declarations: [UserListComponent, UserFormComponent,TruncatePipe],\r\n  imports: [UsersRoutingModule, CoreModule.forRoot()],\r\n})\r\nexport class UsersModule {}\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'truncate'\r\n})\r\nexport class TruncatePipe implements PipeTransform {\r\n  transform(value: string, maxLength: number): string {\r\n    if (value.length <= maxLength) {\r\n      return value;\r\n    } else {\r\n      return value.slice(0, maxLength) + '...';\r\n\r\n    }\r\n  }\r\n}\r\n"],"names":[],"sourceRoot":"webpack:///"}