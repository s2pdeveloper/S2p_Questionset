{"version":3,"file":"src_app_layout_questions_question_module_ts.aa329b6abc731cbd.js","mappings":"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","sources":["./src/app/layout/questions/question-form/question-form.component.ts","./src/app/layout/questions/question-list/question-list.component.ts","./src/app/layout/questions/question-routing.module.ts","./src/app/layout/questions/question.module.ts","./src/app/services/questions/questions.service.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { QuestionsService } from '@services/questions/questions.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ToastrService } from 'ngx-toastr';\n\n@Component({\n  selector: 'app-question-form',\n  templateUrl: './question-form.component.html',\n  styleUrls: ['./question-form.component.scss'],\n})\nexport class QuestionFormComponent implements OnInit {\n  constructor(\n    private router: Router,\n    private questionService: QuestionsService,\n    private formBuilder: FormBuilder,\n    private actRoutes: ActivatedRoute,\n    private location: Location,\n    private spinner: NgxSpinnerService,\n    private toastService: ToastrService\n  ) {}\n\n  submitted = false;\n  optionsList: string[] = [];\n  setId: any = null;\n  splitArray: [] = [];\n  act: string = '';\n  questionForm = this.formBuilder.group({\n    _id: new FormControl(null),\n    question: new FormControl('', [Validators.required]),\n    type: new FormControl('', [Validators.required]),\n    hint: new FormControl(''),\n    options: new FormControl('', [Validators.required]),\n    correctOption: new FormControl('', [Validators.required]),\n  });\n\n  ngOnInit(): void {\n    this.actRoutes.queryParams.subscribe((params) => {\n      this.setId = params.s_id;\n      this.act = params.action;\n      console.log('set id in form', this.setId);\n      if (params.q_id) {\n        this.getById(params.q_id);\n      }\n    });\n  }\n\n  get form() {\n    return this.questionForm.controls;\n  }\n\n  onTextChange(ev: any) {\n    // console.log(ev.target.value);\n\n    this.splitArray = ev.target.value.split(',');\n    // this.questionForm.get('options')?.setValue(splitArray);\n    // console.log(this.splitArray);\n  }\n\n  getById(id) {\n    this.questionService.getQuestionById(id).subscribe((success) => {\n      console.log(\"get by id\", success);\n      // this.splitArray = success?.result[0]?.options[0]?.split(',');\n      this.splitArray = success?.result[0]?.options;\n\n      this.questionForm.patchValue(success?.result[0]);\n    });\n  }\n\n  submit() {\n    this.submitted = true;\n    if (this.questionForm.invalid) {\n      this.toastService.warning('Please fill all required fields!');\n      return;\n    }\n    let formData = this.questionForm.value;\n    formData.options = this.splitArray;\n\n    console.log(formData);\n    if (formData._id) {\n      this.update(formData);\n    } else {\n      delete formData.id;\n      this.create(formData);\n    }\n  }\n\n  create(formData) {\n    this.spinner.show();\n    this.questionService.createQuestion(formData, this.setId).subscribe(\n      (success) => {\n        console.log('Created Question', success);\n        this.spinner.hide();\n        this.toastService.success(success.message);\n        this.router.navigate(['questions/questions-list'], {\n          queryParams: { id: this.setId },\n        });\n      },\n      (error) => {\n        this.spinner.hide();\n        this.toastService.error(error.message);\n      }\n    );\n  }\n\n  update(formData) {\n    this.spinner.show();\n    this.questionService.updateQuestion(formData, formData._id).subscribe(\n      (success) => {\n        this.submitted = false;\n        this.spinner.hide();\n        this.toastService.success(success.message);\n        this.router.navigate(['questions/questions-list'], {\n          queryParams: { id: this.setId },\n        });\n      },\n      (error) => {\n        this.spinner.hide();\n        this.toastService.error(error.message);\n      }\n    );\n  }\n\n  goBack() {\n    this.location.back();\n  }\n}\n","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ToastrService } from 'ngx-toastr';\nimport { QuestionsService } from '../../../services/questions/questions.service';\n\n@Component({\n  selector: 'app-question-list',\n  templateUrl: './question-list.component.html',\n  styleUrls: ['./question-list.component.scss'],\n})\nexport class QuestionListComponent implements OnInit {\n  questions: any;\n  totalQuestion: any;\n  page: number = 1;\n  pageSize: number = 5;\n  search: any = '';\n  selectedRow: any = {};\n  setId: any = null;\n\n  constructor(\n    private router: Router,\n    private actRoutes: ActivatedRoute,\n    private questionService: QuestionsService,\n    private modalService: NgbModal,\n    private toastService: ToastrService,\n    private spinner: NgxSpinnerService\n  ) {\n    // console.log(\"in question list\");\n  }\n\n  ngOnInit(): void {\n    this.actRoutes.queryParams.subscribe((params) => {\n      this.setId = params.id;\n      // console.log('set id in list', this.setId, params.id);\n      if (this.setId) {\n        this.getQuestionsOfSet(this.setId);\n      }\n    });\n  }\n\n  getQuestionsOfSet(id) {\n    this.spinner.show();\n    let params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      search: this.search,\n    };\n    this.questionService.getSetQuestions(id, params).subscribe(\n      (success) => {\n        this.spinner.hide();\n        console.log('Questions', success);\n        this.questions = success?.result?.data;\n        this.totalQuestion = success?.result?.totalCount;\n      },\n      (error) => {\n        this.spinner.hide();\n        this.toastService.error('Something Went Wrong');\n      }\n    );\n  }\n\n  navigateTo(path, s_id, q_id, action) {\n    if (q_id) {\n      this.router.navigate([path], { queryParams: { s_id, q_id, action } });\n    } else {\n      this.router.navigate([path], { queryParams: { s_id, action } });\n    }\n  }\n\n  onChangePage(pageNo) {\n    if (pageNo > 0) {\n      this.page = pageNo;\n    }\n    this.getQuestionsOfSet(this.setId);\n  }\n\n  open(s, content) {\n    this.selectedRow = s;\n    this.modalService.open(content, { centered: true });\n  }\n\n  deleteQuestion(id){\n    this.questionService.deleteQuestionById(id).subscribe(\n      (success) => {\n        console.log(success);\n        this.getQuestionsOfSet(this.setId);\n        this.selectedRow = {};\n        this.modalService.dismissAll();\n        this.toastService.success(success.result.message);\n      },\n      (error) => {\n        this.selectedRow = {};\n        this.modalService.dismissAll();\n        this.toastService.error('Something went Wrong!');\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { QuestionListComponent } from './question-list/question-list.component';\nimport { QuestionFormComponent} from './question-form/question-form.component';\nimport { RouterModule, Routes } from '@angular/router';\n\nconst questionRoutes: Routes = [\n  {\n    path: '',\n    data: {\n      title: 'Questions',\n    },\n    children: [\n      {\n        path: '',\n        redirectTo: 'questions',\n      },\n      {\n        path: 'questions-list',\n        component: QuestionListComponent,\n        data: {\n          title: 'Questions',\n        },\n      },\n      {\n        path: 'questions-form',\n        component: QuestionFormComponent,\n        data: {\n          title: 'Questions Form',\n        },\n      },\n    ],\n  },\n];\n\n\n@NgModule({\n  imports: [RouterModule.forChild(questionRoutes)],\n  exports: [RouterModule],\n})\n\nexport class QuestionRoutingModule { }\n","import { NgModule } from '@angular/core';\nimport { QuestionRoutingModule } from './question-routing.module';\nimport { QuestionListComponent } from './question-list/question-list.component';\nimport { QuestionFormComponent} from './question-form/question-form.component';\nimport { CoreModule } from '../../core/core.module';\n\n@NgModule({\n  declarations: [QuestionListComponent, QuestionFormComponent],\n  imports: [QuestionRoutingModule, CoreModule.forRoot()],\n})\nexport class QuestionModule {}\n","import { Injectable } from '@angular/core';\nimport { ApiService } from '../../core/services';\n\n@Injectable({\n  providedIn: 'root',\n})\nexport class QuestionsService {\n  routes: any = {\n    getPath: (id, params) =>\n      `question/questionSetQuestions/${id}?page=${params.page}&pageSize=${params.pageSize}&search=${params.search}`,\n    createPath: (id) => `question/${id}`,\n    getByIdPath: (id) => `question/${id}`,\n    updatePath: (id) => `question/${id}`,\n    deletePath: (id) => `question/${id}`,\n  };\n\n  constructor(private http: ApiService) {}\n\n  getSetQuestions(id, params) {\n    return this.http.get(this.routes.getPath(id, params));\n  }\n\n  createQuestion(data, id) {\n    return this.http.post(this.routes.createPath(id), data);\n  }\n\n  updateQuestion(data, id) {\n    return this.http.put(this.routes.updatePath(id), data);\n  }\n\n  getQuestionById(id) {\n    return this.http.get(this.routes.getByIdPath(id));\n  }\n\n  deleteQuestionById(id) {\n    return this.http.delete(this.routes.deletePath(id));\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}