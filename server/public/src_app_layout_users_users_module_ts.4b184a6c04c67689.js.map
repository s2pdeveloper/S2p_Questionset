{"version":3,"file":"src_app_layout_users_users_module_ts.4b184a6c04c67689.js","mappings":"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","sources":["./src/app/layout/users/user-form/user-form.component.ts","./src/app/layout/users/user-list/user-list.component.ts","./src/app/layout/users/users-routing.module.ts","./src/app/layout/users/users.module.ts","./src/app/pipes/truncate.pipe.ts"],"sourcesContent":["import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\nimport { ValidationService } from '../../../core/components';\nimport { UserService } from '../../../services/users/user.service';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Component({\n  selector: 'app-user-form',\n  templateUrl: './user-form.component.html',\n  styleUrls: ['./user-form.component.scss'],\n})\nexport class UserFormComponent implements OnInit {\n  submitted = false;\n  userForm = this.formBuilder.group({\n    id: new FormControl(''),\n    firstName: new FormControl('', [Validators.required]),\n    lastName: new FormControl('', [Validators.required]),\n    // email: new FormControl('', [\n    //   Validators.required,\n    //   this.validationService.emailValidator,\n    // ]),\n    mobileNo: new FormControl('', [Validators.required]),\n    password: new FormControl('', [Validators.required]),\n    role: new FormControl({ value: 'ADMIN', disabled: true }, [\n      Validators.required,\n    ]),\n  });\n\n  constructor(\n    private spinner: NgxSpinnerService,\n    private userService: UserService,\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private location: Location,\n    private validationService: ValidationService,\n    private actRoutes: ActivatedRoute,\n    private toastService: ToastrService\n  ) {}\n\n  ngOnInit(): void {\n    this.actRoutes.queryParams.subscribe((params) => {\n      if (params.id) {\n        this.getById(params.id);\n      }\n    });\n  }\n  get form() {\n    return this.userForm.controls;\n  }\n  submit() {\n    this.submitted = true;\n    this.userForm.controls.role.enable();\n    if (this.userForm.invalid) {\n      this.toastService.warning('Please fill all required field !');\n      return;\n    }\n    let formData = this.userForm.value;\n    if (formData.id) {\n      this.update(formData);\n    } else {\n      delete formData.id;\n      this.create(formData);\n    }\n  }\n  create(formData) {\n    this.spinner.show();\n    this.userService.createUser(formData).subscribe((success) => {\n      this.spinner.hide();\n      this.toastService.success(success.message);\n      this.router.navigate(['users/users']);\n    });\n  }\n\n  update(formData) {\n    this.spinner.show();\n    this.userService.updateUser(formData.id, formData).subscribe((success) => {\n      this.submitted = false;\n      this.spinner.hide();\n      this.toastService.success(success.message);\n      this.router.navigate(['users/users']);\n    });\n  }\n\n  getById(id) {\n    this.userService.profile(id).subscribe((success) => {\n      success.confirmPassword = success.password;\n      this.userForm.patchValue(success);\n      this.userForm.controls.role.disable();\n    });\n  }\n\n  goBack() {\n    this.location.back();\n  }\n}\n","import { Location } from '@angular/common';\nimport { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { ActivatedRoute } from '@angular/router';\nimport { NgbModal } from '@ng-bootstrap/ng-bootstrap';\nimport { NgxSpinnerService } from 'ngx-spinner';\nimport { ToastrService } from 'ngx-toastr';\nimport { StorageService } from 'src/app/core/services';\nimport { UserService } from '../../../services/users/user.service';\nimport { IUser } from '@interfaces/index';\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.scss'],\n})\nexport class UserListComponent implements OnInit {\n  selectedRow: any = {};\n  users: any = [];\n  search: any = '';\n  page = 1;\n  pageSize = 10;\n  collection: number = 0;\n  // pages: number = 1;\n  userDetails: any = {};\n\n  constructor(\n    private userService: UserService,\n    private router: Router,\n    private storageService: StorageService,\n    private modalService: NgbModal,\n    private toastService: ToastrService,\n    private spinner: NgxSpinnerService\n  ) {}\n\n  ngOnInit(): void {\n    this.userDetails = this.storageService.get('user');\n    this.getAll();\n  }\n\n  getAll() {\n    this.spinner.show();\n    let params = {\n      page: this.page,\n      pageSize: this.pageSize,\n      search: this.search,\n    };\n    this.userService.getAllUsers(params).subscribe(\n      (success) => {\n        this.users = success.data;\n        this.collection = success.count;\n        this.spinner.hide();\n      },\n      (error) => {\n        this.spinner.hide();\n        this.toastService.error('Something Went Wrong!');\n      }\n    );\n  }\n\n  navigateTo(path, id) {\n    if (id) {\n      this.router.navigate([path], { queryParams: { id } });\n    } else {\n      this.router.navigate([path]);\n    }\n  }\n\n  refreshList(title) {\n    this.search = title == 'clear' ? '' : this.search;\n    this.getAll();\n  }\n\n  onChangePage(pageNo) {\n    if (pageNo > 0) {\n      this.page = pageNo;\n    }\n    this.getAll();\n  }\n\n  open(u, content) {\n    this.selectedRow = u;\n    this.modalService.open(content, { centered: true });\n  }\n\n  deleteUser(id) {\n    this.userService.deleteUser(id).subscribe(\n      (success) => {\n        this.getAll();\n        this.selectedRow = {};\n        this.modalService.dismissAll();\n        this.toastService.success(success.message);\n      },\n      (error) => {\n        this.selectedRow = {};\n        this.modalService.dismissAll();\n      }\n    );\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\nimport { UserListComponent } from './user-list/user-list.component';\nimport { UserFormComponent } from './user-form/user-form.component'; \n\nconst userRoutes: Routes = [\n  {\n    path: '',\n    data: {\n      title: 'Users',\n    },\n    children: [\n      {\n        path: '',\n        redirectTo: 'users',\n      },\n      {\n        path: 'users',\n        component: UserListComponent,\n        data: {\n          title: 'Users List',\n        },\n      },\n      {\n        path: 'users-form',\n        component: UserFormComponent,\n        data: {\n          title: 'Users Form',\n        },\n      },\n      \n    ],\n  },\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(userRoutes)],\n  exports: [RouterModule],\n})\nexport class UsersRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { UserListComponent } from './user-list/user-list.component';\nimport { UserFormComponent } from './user-form/user-form.component';\nimport { UsersRoutingModule } from './users-routing.module';\nimport { CoreModule } from '../../core/core.module';\nimport { TruncatePipe } from '../../pipes/truncate.pipe';\n\n\n@NgModule({\n  declarations: [UserListComponent, UserFormComponent,TruncatePipe],\n  imports: [UsersRoutingModule, CoreModule.forRoot()],\n})\nexport class UsersModule {}\n","import { Pipe, PipeTransform } from '@angular/core';\n\n@Pipe({\n  name: 'truncate'\n})\nexport class TruncatePipe implements PipeTransform {\n  transform(value: string, maxLength: number): string {\n    if (value.length <= maxLength) {\n      return value;\n    } else {\n      return value.slice(0, maxLength) + '...';\n\n    }\n  }\n}\n"],"names":[],"sourceRoot":"webpack:///"}